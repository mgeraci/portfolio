$index-breakpoint: 700px

@mixin text-style
  width: 50%
  text-align: left
  padding: 6vh

// the body on the index gets a darker background color, and then everything
// else gets the "normal" background, that way the darker color extends to the
// screen bottom
.page-index-new
  background: #fff
  font-family: "Source Serif Pro"

  // undo the default content sizing, go full width
  section.content
    width: 100%
    max-width: 100%
    margin: 0
    padding-top: 0

  // TODO un-nest after removing old index page
  .index-top
    position: relative
    z-index: 2
    background: #fff
    @include clearfix
    @include content-sizing
    padding-bottom: 80px

    @media (max-width: $index-breakpoint)
      padding-bottom: 40px

      .index-top-text,
      .index-top-image
        width: 100%
        margin: 0
        padding: 0

      .index-top-image
        margin-top: 25px

      .index-top-left-image
        width: 50%
        padding-top: 50%

    &-image
      float: left
      margin-top: 9px
      width: 33%
      text-align: center

      // large screens
      @media (min-width: 820px)
        text-align: right

        .index-top-left-image-wrapper
          width: 250px
          height: 250px
          padding: 0

      &-wrapper
        display: inline-block
        position: relative
        overflow: hidden
        width: 250px
        height: 250px
        // width: 76%
        // padding-top: 76%
        background: rgba(#000, 0.1)
        border-radius: 50%
        box-shadow: 0 0 2px rgba(#000, 0.2)

        @media (max-width: 800px)
          margin-top: 25px
          width: 200px
          height: 200px

        @media (max-width: $index-breakpoint)
          margin-top: 20px
          width: 45%
          height: auto
          padding-top: 45%

        @media (max-width: 350px)
          width: 75%
          padding-top: 75%

        img
          position: absolute
          top: 0
          left: 0
          width: 100%
          height: auto

    &-text
      float: right
      width: 60%
      padding-top: 20px

      @media (min-width: 1000px)
        padding-right: 100px

    &-headline,
    &-section
      padding-bottom: 20px

      &:last-child
        padding-bottom: 0

    &-headline
      margin-top: 19px
      font-size: 36px

      @media (max-width: 690px)
        font-size: 28px

    &-link
      display: inline-block
      margin-left: 10px
      @include link-underline($text)
      @include link-color($text, $index-highlight)

      &:hover
        @include link-underline($index-highlight)

      &:first-child
        margin-left: 0

    &-subheader
      position: relative
      float: left
      clear: both
      width: 100%
      margin-top: 80px
      text-align: center
      font-size: 22px
      font-style: oblique

      &:after
        content: ""
        position: absolute
        bottom: -10px
        left: 50%
        @include transform(translateX(-50%))
        @include triangle(10px, rgba($text, 0.7), down)

      @media (max-width: $index-breakpoint)
        margin-top: 40px


  padding-bottom: 1200px

  // TODO unnest after removing old index
  .index-bottom
    position: fixed
    z-index: 1
    top: 0
    left: 0
    width: 100%
    height: 100%

    &-copyright
      position: absolute
      bottom: 0
      left: 0
      @include content-sizing
      display: block
      font-size: 15px
      margin-top: 40px
      width: 100%
      text-align: center

@import "./index_project.sass"
