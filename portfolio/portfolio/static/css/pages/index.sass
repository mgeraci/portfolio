$index-breakpoint: 550px

// the body on the index gets a darker background color, and then everything
// else gets the "normal" background, that way the darker color extends to the
// screen bottom
.page-index
  background: darken($green, 4%)

  nav,
  .index-top
    background: $green

  // undo the default content sizing
  section.content
    width: 100%
    max-width: 100%
    margin: 0
    padding-top: 0

.index-top
  @include clearfix
  background: $green
  padding-bottom: 55px

  &-content
    @include content-sizing

  @media (max-width: $index-breakpoint)
    padding-bottom: 40px

    .index-top-left,
    .index-top-right
      width: 100%
      margin: 0
      padding: 0

      &:last-child
        margin-top: 25px

    .index-top-left-image-wrapper
      width: 50%
      padding-top: 50%

  &-left
    float: left
    margin-top: 9px
    width: 33%
    text-align: center

    @media (min-width: 820px)
      text-align: right

      .index-top-left-image-wrapper
        width: 250px
        height: 250px
        padding: 0

    &-image-wrapper
      display: inline-block
      position: relative
      overflow: hidden
      width: 100%
      padding-top: 100%
      background: rgba(#000, 0.1)
      border-radius: 50%
      box-shadow: 0 0 2px rgba(#000, 0.2)

      img
        position: absolute
        top: 0
        left: 0
        width: 100%
        height: auto

  &-right
    float: right
    width: 60%
    padding-top: 20px

    @media (min-width: 1000px)
      padding-right: 100px

    h2,
    p
      padding-bottom: 20px

      &:last-child
        padding-bottom: 0

    h2
      font-family: headline
      font-size: 36px

      @media (max-width: 690px)
        font-size: 28px

.index-bottom
  border-top: 1px solid darken($green, 10%)

  &-content
    @include content-sizing
    max-width: 900px

  &-headline
    display: block
    width: 100%
    margin-bottom: 20px

  &-recent
    @include clearfix

  &-copyright
    display: block
    font-size: 15px
    margin-top: 40px


$text-width: 50%
$image-width: 45%
$gutter-width: 100 - $text-width - $image-width
$breakpoint: 720px

.project
  position: relative
  @include clearfix
  width: 100%
  margin-bottom: 100px

  &-text
    position: absolute
    top: 50%
    display: block
    width: $text-width
    @include transform(translateY(-50%))

    @media (max-width: $breakpoint)
      position: static
      @include transform(translateY(0))

  &-image
    width: $image-width
    min-height: 300px

    @media (max-width: $breakpoint)
      min-height: 0

    img
      width: 100%
      height: auto
      float: left

  &:nth-child(even)
    .project-text
      left: 0
      float: left
      clear: left
      padding-right: $gutter-width

    .project-image
      float: right

  &:nth-child(odd)
    .project-text
      right: 0
      float: right
      clear: right
      padding-left: $gutter-width

    .project-image
      float: left

  @media (max-width: $breakpoint)
    margin-bottom: 60px

    .project-text,
    .project-image
      width: 100%
      padding-right: 0 !important
      padding-left: 0 !important

    .project-image
      margin-bottom: 20px
